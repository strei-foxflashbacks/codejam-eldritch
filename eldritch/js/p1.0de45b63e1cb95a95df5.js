(()=>{"use strict";const e=[{id:"green1",cardFace:"./assets/MythicCards/green/green1.png",difficulty:"easy",color:"green"},{id:"green2",cardFace:"./assets/MythicCards/green/green2.png",difficulty:"hard",color:"green"},{id:"green3",cardFace:"./assets/MythicCards/green/green3.png",difficulty:"hard",color:"green"},{id:"green4",cardFace:"./assets/MythicCards/green/green4.png",difficulty:"hard",color:"green"},{id:"green5",cardFace:"./assets/MythicCards/green/green5.png",difficulty:"hard",color:"green"},{id:"green6",cardFace:"./assets/MythicCards/green/green6.png",difficulty:"hard",color:"green"},{id:"green7",cardFace:"./assets/MythicCards/green/green7.png",difficulty:"normal",color:"green"},{id:"green8",cardFace:"./assets/MythicCards/green/green8.png",difficulty:"normal",color:"green"},{id:"green9",cardFace:"./assets/MythicCards/green/green9.png",difficulty:"normal",color:"green"},{id:"green10",cardFace:"./assets/MythicCards/green/green10.png",difficulty:"normal",color:"green"},{id:"green11",cardFace:"./assets/MythicCards/green/green11.png",difficulty:"normal",color:"green"},{id:"green12",cardFace:"./assets/MythicCards/green/green12.png",difficulty:"easy",color:"green"},{id:"green13",cardFace:"./assets/MythicCards/green/green13.png",difficulty:"normal",color:"green"},{id:"green14",cardFace:"./assets/MythicCards/green/green14.png",difficulty:"normal",color:"green"},{id:"green15",cardFace:"./assets/MythicCards/green/green15.png",difficulty:"normal",color:"green"},{id:"green16",cardFace:"./assets/MythicCards/green/green16.png",difficulty:"easy",color:"green"},{id:"green17",cardFace:"./assets/MythicCards/green/green17.png",difficulty:"easy",color:"green"},{id:"green18",cardFace:"./assets/MythicCards/green/green18.png",difficulty:"easy",color:"green"}],t=[{id:"brown1",cardFace:"./assets/MythicCards/brown/brown1.png",difficulty:"normal",color:"brown"},{id:"brown2",cardFace:"./assets/MythicCards/brown/brown2.png",difficulty:"normal",color:"brown"},{id:"brown3",cardFace:"./assets/MythicCards/brown/brown3.png",difficulty:"normal",color:"brown"},{id:"brown4",cardFace:"./assets/MythicCards/brown/brown4.png",difficulty:"normal",color:"brown"},{id:"brown5",cardFace:"./assets/MythicCards/brown/brown5.png",difficulty:"normal",color:"brown"},{id:"brown6",cardFace:"./assets/MythicCards/brown/brown6.png",difficulty:"hard",color:"brown"},{id:"brown7",cardFace:"./assets/MythicCards/brown/brown7.png",difficulty:"hard",color:"brown"},{id:"brown8",cardFace:"./assets/MythicCards/brown/brown8.png",difficulty:"hard",color:"brown"},{id:"brown9",cardFace:"./assets/MythicCards/brown/brown9.png",difficulty:"hard",color:"brown"},{id:"brown10",cardFace:"./assets/MythicCards/brown/brown10.png",difficulty:"hard",color:"brown"},{id:"brown11",cardFace:"./assets/MythicCards/brown/brown11.png",difficulty:"easy",color:"brown"},{id:"brown12",cardFace:"./assets/MythicCards/brown/brown12.png",difficulty:"easy",color:"brown"},{id:"brown13",cardFace:"./assets/MythicCards/brown/brown13.png",difficulty:"easy",color:"brown"},{id:"brown14",cardFace:"./assets/MythicCards/brown/brown14.png",difficulty:"easy",color:"brown"},{id:"brown15",cardFace:"./assets/MythicCards/brown/brown15.png",difficulty:"normal",color:"brown"},{id:"brown16",cardFace:"./assets/MythicCards/brown/brown16.png",difficulty:"normal",color:"brown"},{id:"brown17",cardFace:"./assets/MythicCards/brown/brown17.png",difficulty:"normal",color:"brown"},{id:"brown18",cardFace:"./assets/MythicCards/brown/brown18.png",difficulty:"normal",color:"brown"},{id:"brown19",cardFace:"./assets/MythicCards/brown/brown19.png",difficulty:"normal",color:"brown"},{id:"brown20",cardFace:"./assets/MythicCards/brown/brown20.png",difficulty:"normal",color:"brown"},{id:"brown21",cardFace:"./assets/MythicCards/brown/brown21.png",difficulty:"easy",color:"brown"}],r=[{id:"blue1",cardFace:"./assets/MythicCards/blue/blue1.png",difficulty:"hard",color:"blue"},{id:"blue2",cardFace:"./assets/MythicCards/blue/blue2.png",difficulty:"hard",color:"blue"},{id:"blue3",cardFace:"./assets/MythicCards/blue/blue3.png",difficulty:"easy",color:"blue"},{id:"blue4",cardFace:"./assets/MythicCards/blue/blue4.png",difficulty:"easy",color:"blue"},{id:"blue5",cardFace:"./assets/MythicCards/blue/blue5.png",difficulty:"easy",color:"blue"},{id:"blue6",cardFace:"./assets/MythicCards/blue/blue6.png",difficulty:"hard",color:"blue"},{id:"blue7",cardFace:"./assets/MythicCards/blue/blue7.png",difficulty:"normal",color:"blue"},{id:"blue8",cardFace:"./assets/MythicCards/blue/blue8.png",difficulty:"hard",color:"blue"},{id:"blue9",cardFace:"./assets/MythicCards/blue/blue9.png",difficulty:"normal",color:"blue"},{id:"blue10",cardFace:"./assets/MythicCards/blue/blue10.png",difficulty:"easy",color:"blue"},{id:"blue11",cardFace:"./assets/MythicCards/blue/blue11.png",difficulty:"normal",color:"blue"},{id:"blue12",cardFace:"./assets/MythicCards/blue/blue12.png",difficulty:"normal",color:"blue"}],c=document.querySelectorAll(".ancient-card"),n=document.querySelector(".difficulty-container"),i=document.querySelectorAll(".difficulty"),l=document.querySelector(".shuffle-button"),s=document.querySelector(".deck-ingame"),o=document.querySelector("body"),a=new Audio,d=()=>{Z.style.visibility="hidden",s.style.visibility="hidden",Y.style.visibility="hidden",C.classList.remove("stage-text-active"),M.classList.remove("stage-text-active"),F.classList.remove("stage-text-active")};c.forEach((e=>{e.addEventListener("click",(()=>{N(),V(),(e=>{e.classList.add("active")})(n),d()}))})),i.forEach((e=>{e.addEventListener("click",(()=>{l.style.display="inline",d()}))}));const u=document.getElementById("stg1-green"),y=document.getElementById("stg1-brown"),f=document.getElementById("stg1-blue"),g=document.getElementById("stg2-green"),b=document.getElementById("stg2-brown"),h=document.getElementById("stg2-blue"),p=document.getElementById("stg3-green"),m=document.getElementById("stg3-brown"),w=document.getElementById("stg3-blue"),C=document.querySelector(".stg1-text"),M=document.querySelector(".stg2-text"),F=document.querySelector(".stg3-text"),x=document.querySelector(".ctulhu"),v=document.querySelector(".azatoth"),E=document.querySelector(".iogsototh"),k=document.querySelector(".shubniggurath"),q=document.querySelector(".normal"),S=document.querySelector(".hard"),L=document.querySelector(".easy"),I=document.querySelector(".sandbox"),B=document.querySelector(".nightmare");let z,A,T,$,j,D,G,H="",J=[],K=!1;const N=()=>{J.length=0},O=e=>{let t=[],r=e.length;for(;r>0;){let c=Math.floor(Math.random()*r);t.push(e[c]),e.splice(c,1),r--}return t},P=()=>{A=O(z.filter((e=>"green"===e.color))),T=O(z.filter((e=>"brown"===e.color))),$=O(z.filter((e=>"blue"===e.color)))},Q=c=>{if("normal"===c&&(z=r.concat(t,e)),"hard"===c&&(z=r.concat(t,e).filter((e=>"easy"!==e.difficulty))),"easy"===c&&(z=r.concat(t,e).filter((e=>"hard"!==e.difficulty))),"sandbox"===c){let c,n,i;"ctulhu"===H&&(c=e.filter((e=>"easy"===e.difficulty)),n=t.filter((e=>"easy"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,4)),i=r.filter((e=>"easy"===e.difficulty))),"azatoth"===H&&(c=e.filter((e=>"easy"===e.difficulty)),n=t.filter((e=>"easy"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,4)),i=r.filter((e=>"easy"===e.difficulty))),"iogsototh"===H&&(c=e.filter((e=>"easy"===e.difficulty)),n=t.filter((e=>"easy"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,4)),i=r.filter((e=>"easy"===e.difficulty))),"shubniggurath"===H&&(c=e.filter((e=>"easy"===e.difficulty)).concat(O(e.filter((e=>"normal"===e.difficulty))).splice(0,1)),n=t.filter((e=>"easy"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,3)),i=r.filter((e=>"easy"===e.difficulty))),z=c.concat(n,i)}if("nightmare"===c){let c,n,i;"ctulhu"===H&&(c=e.filter((e=>"hard"===e.difficulty)),n=t.filter((e=>"hard"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,4)),i=r.filter((e=>"hard"===e.difficulty))),"azatoth"===H&&(c=e.filter((e=>"hard"===e.difficulty)),n=t.filter((e=>"hard"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,4)),i=r.filter((e=>"hard"===e.difficulty))),"iogsototh"===H&&(c=e.filter((e=>"hard"===e.difficulty)),n=t.filter((e=>"hard"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,4)),i=r.filter((e=>"hard"===e.difficulty))),"shubniggurath"===H&&(c=e.filter((e=>"hard"===e.difficulty)).concat(O(e.filter((e=>"normal"===e.difficulty))).splice(0,1)),n=t.filter((e=>"hard"===e.difficulty)).concat(O(t.filter((e=>"normal"===e.difficulty))).splice(0,3)),i=r.filter((e=>"hard"===e.difficulty))),z=c.concat(n,i)}},R=()=>{u.textContent=j.filter((e=>"green"===e.color)).length,y.textContent=j.filter((e=>"brown"===e.color)).length,f.textContent=j.filter((e=>"blue"===e.color)).length,g.textContent=D.filter((e=>"green"===e.color)).length,b.textContent=D.filter((e=>"brown"===e.color)).length,h.textContent=D.filter((e=>"blue"===e.color)).length,p.textContent=G.filter((e=>"green"===e.color)).length,m.textContent=G.filter((e=>"brown"===e.color)).length,w.textContent=G.filter((e=>"blue"===e.color)).length},U=e=>{"ctulhu"===e&&(j=T.splice(0,2).concat($.slice(0,2)),D=A.splice(0,1).concat(T.splice(0,3)),G=A.splice(0,3).concat(T.splice(0,4)),R()),"azatoth"===e&&(j=A.splice(0,1).concat(T.slice(0,2),$.slice(0,1)),D=A.splice(0,2).concat(T.splice(0,3),$.splice(0,1)),G=A.splice(0,2).concat(T.splice(0,4)),R()),"iogsototh"===e&&(j=T.splice(0,2).concat($.slice(0,1)),D=A.splice(0,2).concat(T.splice(0,3),$.splice(0,1)),G=A.splice(0,3).concat(T.splice(0,4)),R()),"shubniggurath"===e&&(j=A.splice(0,1).concat(T.splice(0,2),$.slice(0,1)),D=A.splice(0,3).concat(T.splice(0,2),$.splice(0,1)),G=A.splice(0,2).concat(T.splice(0,4)),R())},V=()=>{document.querySelectorAll(".difficulty-check").forEach((e=>e.checked=!1))},W=e=>{K?(a.pause(),K=!1,a.src=`./assets/sounds/${e}.ogg`,a.currentTime=0,a.play(),K=!0):(a.src=`./assets/sounds/${e}.ogg`,a.currentTime=0,a.play(),K=!0)},X=()=>{a.src="./assets/sounds/switch.ogg",a.currentTime=0,a.play()};x.addEventListener("click",(()=>{H="ctulhu",W(H),o.style.backgroundImage='url("./images/ctulhu.png")'})),v.addEventListener("click",(()=>{H="azatoth",W(H),o.style.backgroundImage='url("./images/azatoth.png")'})),E.addEventListener("click",(()=>{H="iogsototh",W(H),o.style.backgroundImage='url("./images/iogsothoth.png")'})),k.addEventListener("click",(()=>{H="shubniggurath",W(H),o.style.backgroundImage='url("./images/shubniggurath.png")'})),q.addEventListener("click",(()=>{X(),l.style.display="inline",Q("normal"),P(),U(H)})),S.addEventListener("click",(()=>{X(),l.style.display="inline",Q("hard"),P(),U(H)})),L.addEventListener("click",(()=>{X(),l.style.display="inline",Q("easy"),P(),U(H)})),I.addEventListener("click",(()=>{X(),l.style.display="inline",Q("sandbox"),P(),U(H)})),B.addEventListener("click",(()=>{X(),l.style.display="inline",Q("nightmare"),P(),U(H)})),l.addEventListener("click",(()=>{X(),s.style.visibility="visible",l.style.display="none",J=O(G).concat(O(D),O(j)),J.length>0&&(Y.style.visibility="visible")}));const Y=document.querySelector(".deck"),Z=document.querySelector(".last-card");Y.addEventListener("click",(()=>{a.src="./assets/sounds/card.ogg",a.currentTime=0,a.play();let e=J.pop();Z.style.visibility="visible",Z.style.backgroundImage=`url('${e.cardFace}')`,0===J.length&&(Y.style.visibility="hidden"),u.textContent>0||y.textContent>0||f.textContent>0?(C.classList.add("stage-text-active"),"green"===e.color&&(u.textContent=u.textContent-1),"brown"===e.color&&(y.textContent=y.textContent-1),"blue"===e.color&&(f.textContent=f.textContent-1)):g.textContent>0||b.textContent>0||h.textContent>0?(M.classList.add("stage-text-active"),"green"===e.color&&(g.textContent=g.textContent-1),"brown"===e.color&&(b.textContent=b.textContent-1),"blue"===e.color&&(h.textContent=h.textContent-1)):(p.textContent>0||m.textContent>0||w.textContent>0)&&(F.classList.add("stage-text-active"),"green"===e.color&&(p.textContent=p.textContent-1),"brown"===e.color&&(m.textContent=m.textContent-1),"blue"===e.color&&(w.textContent=w.textContent-1))}))})();